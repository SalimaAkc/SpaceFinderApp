<Window x:Class="SpacefinderApp.Views.LoginView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:SpacefinderApp.ViewModels"
        xmlns:converters="clr-namespace:SpacefinderApp.Converters"
        Title="Spacefinder - Login"
        Height="400"
        Width="600"
        WindowStartupLocation="CenterScreen">

	<Window.Resources>
		<converters:RoleToVisibilityConverter x:Key="RoleToVisibilityConverter" />
	</Window.Resources>

	<Window.DataContext>
		<vm:AuthViewModel />
	</Window.DataContext>

	<Grid Margin="30">
		<StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Width="300">
			<!-- Header -->
			<TextBlock Text="Spacefinder Login"
                       FontSize="20"
                       FontWeight="Bold"
                       Margin="0 0 0 20"
                       HorizontalAlignment="Center"/>

			<!-- Email -->
			<TextBlock Text="Email" Margin="0 0 0 5"/>
			<TextBox Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0 0 0 15"/>

			<!-- Password -->
			<TextBlock Text="Password" Margin="0 0 0 5"/>
			<PasswordBox x:Name="PasswordBox"
                         Margin="0 0 0 20"/>

			<!-- Login Button -->
			<Button Content="Login"
                    Command="{Binding LoginCommand}"
                    CommandParameter="{Binding ElementName=PasswordBox}"
                    Padding="15 5"
                    HorizontalAlignment="Stretch"
                    Background="#0078D4"
                    Foreground="White"/>

			<!-- Error Message -->
			<TextBlock Text="{Binding ErrorMessage}"
                       Foreground="Red"
                       Margin="0 10 0 0"
                       Visibility="{Binding HasError, 
                           Converter={StaticResource RoleToVisibilityConverter},
                           ConverterParameter=VisibleIfTrue}"
                       TextWrapping="Wrap"/>
		</StackPanel>
	</Grid>
</Window>