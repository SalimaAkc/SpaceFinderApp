<Window x:Class="SpacefinderApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SpacefinderApp"
       xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Spacefinder - Login"
        Height="600"
        Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#F5F7FB">

	<Window.Resources>
		<BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
		<Style TargetType="Button" BasedOn="{StaticResource MaterialDesignRaisedButton}">
			<Setter Property="Margin" Value="0 5"/>
		</Style>
	</Window.Resources>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<!-- Left Side - Branding -->
		<StackPanel Grid.Column="0" VerticalAlignment="Center">
			<Image Source="/Assets/logo.png" Width="350" Margin="20"/>
			<TextBlock Text="Campus Space Management System"
                       FontSize="25"
                       Foreground="#6B7280"
                       HorizontalAlignment="Center"/>
		</StackPanel>

		<!-- Right Side - Login Form -->
		<Border Grid.Column="1"
                Background="White"
                CornerRadius="10"
                Padding="40"
                Margin="20">

			<StackPanel VerticalAlignment="Center">
				<!-- Language Selector -->
				<ComboBox SelectedItem="{Binding SelectedLanguage}"
                          ItemsSource="{Binding AvailableLanguages}"
                          DisplayMemberPath="NativeName"
                          HorizontalAlignment="Right"
                          Margin="0 0 0 20"
                          Width="150"/>

				<!-- Title -->
				<TextBlock Text="Welcome to Spacefinder"
                           FontSize="34"
                           FontWeight="SemiBold"
                           Foreground="#2D3250"
                           Margin="0 0 0 30"/>

				<!-- Email -->
				<TextBox materialDesign:HintAssist.Hint="Enter your Email"
                         Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                         FontSize="14"
                         Margin="0 0 0 15">
					<TextBox.InputBindings>
						<KeyBinding Key="Enter" Command="{Binding LoginCommand}"/>
					</TextBox.InputBindings>
				</TextBox>

				<!-- Password -->
				<Grid Margin="0 0 0 15">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="Auto"/>
					</Grid.ColumnDefinitions>

					<PasswordBox x:Name="PasswordBox"
                                 materialDesign:HintAssist.Hint="Enter your password"
                                 Visibility="{Binding IsPasswordVisible, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Hidden}"
                                 FontSize="14"/>

					<TextBox Text="{Binding Password, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{Binding IsPasswordVisible, Converter={StaticResource BooleanToVisibilityConverter}}"
                             FontSize="14"
                             Grid.Column="0"/>

					<Button Grid.Column="1"
                            Style="{StaticResource MaterialDesignIconButton}"
                            Command="{Binding TogglePasswordVisibilityCommand}">
						</Button>
				</Grid>

				<!-- Forgot Password -->
				<Button Content="Forgot Password?"
                        Command="{Binding ForgotPasswordCommand}"
                        HorizontalAlignment="Right"
                        Margin="0 0 0 20"/>

				<!-- Error Message -->
				<TextBlock Text="{Binding ErrorMessage}"
                           Foreground="#DC2626"
                           Visibility="{Binding HasError, Converter={StaticResource BooleanToVisibilityConverter}}"
                           TextWrapping="Wrap"
                           Margin="0 0 0 20"/>

				<!-- Login Button -->
				<Button Content="Sign In"
                        Command="{Binding LoginCommand}"
                        Style="{StaticResource MaterialDesignRaisedButton}"
                        Background="#2D3250"
                        Foreground="White"
                        Height="45"/>

				<!-- Alternative Login -->
				<TextBlock Text="Or continue with"
                           Foreground="#6B7280"
                           HorizontalAlignment="Center"
                           Margin="0 20"/>

				<StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Margin="0 10">
					<Button Command="{Binding MicrosoftLoginCommand}"
                            ToolTip="Microsoft Account">
						<materialDesign:PackIcon Kind="Microsoft" Width="24"/>
					</Button>
					
					<Button Command="{Binding GoogleLoginCommand}"
                            ToolTip="Google Account"
                            Margin="20 0 0 0">
						<materialDesign:PackIcon Kind="Google" Width="24"/>
					</Button>
				</StackPanel>
			</StackPanel>
		</Border>
	</Grid>
</Window>